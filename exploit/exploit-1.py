import subprocess
from pathlib import Path
import sys

root_dir = Path(__file__).absolute().parent.parent
classpath = root_dir / "service" / "bin"

def exploit(host:str):
   method_args = [host]
   process = subprocess.run(["java", "-cp", classpath, "checker.Exploit1"] + method_args, capture_output=True)
   print(process.stderr.decode())
   print(process.stdout.decode())

serverAddress = sys.argv[1]

exploit(serverAddress)
